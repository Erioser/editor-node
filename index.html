<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
    <div id="editor">
        <p>欢迎使用 <b>wangEditor</b> 富文本编辑器</p>
    </div>
    <button id="btn1">获取html</button>
    <button id="btn2">获取text</button>
    <!-- 注意， 只需要引用 JS，无需引用任何 CSS ！！！-->
    <script src="/jquery.js"></script>
    <script type="text/javascript" src="/wangeditor/wangEditor.min.js"></script>
    <script type="text/javascript">
        var E = window.wangEditor
        var editor = new E('#editor')
        // 或者 var editor = new E( document.getElementById('editor') )
        editor.customConfig.uploadImgServer = '/upload'  // 上传图片到服务器
        editor.customConfig.uploadFileName = 'wangEditor_uploadImg'
        // editor.customConfig.uploadImgShowBase64 = true   // 使用 base64 保存图片

        
        editor.customConfig.uploadImgHooks = {
            success: function (xhr, editor, result) {
                editor.txt.append('<img src="'+result.imgurl+'"/>')
            }
        }

        editor.create()
        // editor.txt.html('<p>用 JS 设置的内容</p>')
        
        document.getElementById('btn1').addEventListener('click', function () {
            let content = editor.txt.html()
            console.log(content)
            $.ajax({
                url:'/submit',
                type:'post',
                data:{content},
                success(result){
                    console.log(result,'ok')
                }
            })
        }, false)

        document.getElementById('btn2').addEventListener('click', function () {
            // 读取 text
            console.log(editor.txt.text())
        }, false)

        
        
    </script>
</html>